<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>LeetCode162 寻找峰值</title>
    <url>/2020/05/17/LeetCode-164-%E5%AF%BB%E6%89%BE%E5%B3%B0%E5%80%BC/</url>
    <content><![CDATA[<p><a href="https://leetcode-cn.com/problems/find-peak-element/" target="_blank" rel="noopener">题目原链接</a></p>
<p>题目大意就是给出一个数组，然后寻找其中的一个峰值的下标索引。这里有一个值得注意的地方是，数组边界nums[0]和nums[n-1]也是可能成为峰值的，因为默认nums[-1]和nums[n]是无穷小。</p>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><h3 id="寻找线索"><a href="#寻找线索" class="headerlink" title="寻找线索"></a>寻找线索</h3><p>先来分析一下题目，看看有没有什么线索可用。峰值，顾名思义，就是其值大于左右两侧的值，那么判断一个值，<strong>最少需要3个数(暂不考虑特例)</strong>。</p>
<h3 id="确定算法"><a href="#确定算法" class="headerlink" title="确定算法"></a>确定算法</h3><p>由于题目给出的说明：解法的时间复杂度应该是<strong>O(logN)</strong>，结合前面的性质，我想到的是：<strong>分治法</strong>。</p>
<p>顺着思路走，下一步就是该如何分解问题，来到这道题，对应的就是<strong>如何划分数组</strong>，为了简单起见，我每次将数组进行1/2划分。那么结合递归的写法，需要确定算法的<strong>递归条件</strong>和<strong>基线条件</strong>。</p>
<p>根据前面提到的数组切分，可以这样做，<strong>当子数组的长度大于3的时候，就将数组进行1/2划分</strong>，缩小问题的规模，这个是数组的递归条件。</p>
<p>根据前面提到的性质 ，算法的基线条件就是<strong>当子数组的长度小于或等于3</strong>的时候。小于3直接就返回，这种情况不存在峰值。等于3，尝试在其中的子数组找出峰值，并返回结果。</p>
<h3 id="特殊情况"><a href="#特殊情况" class="headerlink" title="特殊情况"></a>特殊情况</h3><p>但是这里有一个特例的情况，请看下面这个case:</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line">[<span class="meta">1,3,2,1</span>]</span><br></pre></td></tr></table></figure>

<p>如果单纯是按照在子数组中寻找峰值的话，最终算法会找不到峰值。因为它并没有考虑，<strong>组成峰值的3个数有可能是跨越两个子数组</strong>，因此需要处理左子数组和右子数组都合并起来的情况。根据峰值的性质，就算两个子数组合并，峰值也只会出现在两个子数组合并的边界，因此只需要简单地比较一下合并边界的值，即可判断是否存在峰值。</p>
<h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Solution</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">FindPeakElement</span>(<span class="params"><span class="keyword">int</span>[] nums</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="comment">//特例，就是峰值是第一个元素和最后一个元素的情况</span></span><br><span class="line">        <span class="keyword">if</span>(  nums.Length &lt;= <span class="number">1</span> || nums[<span class="number">0</span>] &gt; nums[<span class="number">1</span>]  )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span> ; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>( nums[nums.Length<span class="number">-1</span>] &gt; nums[nums.Length<span class="number">-2</span>] )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> nums.Length - <span class="number">1</span> ; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> FindPeekValue(nums,<span class="number">0</span>,(nums.Length + <span class="number">0</span>) &gt;&gt; <span class="number">1</span>, nums.Length<span class="number">-1</span>)  ; </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">FindPeekValue</span>(<span class="params"> <span class="keyword">int</span>[] nums,<span class="keyword">int</span> s ,<span class="keyword">int</span> m, <span class="keyword">int</span> e</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">int</span> len = e + <span class="number">1</span> - s   ;</span><br><span class="line">        <span class="keyword">if</span>( len &gt; <span class="number">3</span> )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//递归条件</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">//左半子数组寻找</span></span><br><span class="line">            <span class="keyword">int</span> ret = FindPeekValue(nums,s,(m<span class="number">-1</span>+s) &gt;&gt; <span class="number">1</span>,m<span class="number">-1</span>) ;</span><br><span class="line">            <span class="keyword">if</span>( ret != <span class="number">-1</span> )</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> ret ; </span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//右半子数组寻找</span></span><br><span class="line">            ret = FindPeekValue(nums,m,(e + m) &gt;&gt; <span class="number">1</span>,e)  ; </span><br><span class="line">            <span class="keyword">if</span>( ret != <span class="number">-1</span> )</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> ret; </span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">//合并两段来找</span></span><br><span class="line">            <span class="comment">//峰值既可能在左子数组，又有可能在右子数组的情况 ，需要区分。</span></span><br><span class="line">            <span class="keyword">return</span> ( nums[m] &gt; nums[m<span class="number">-1</span>] &amp;&amp; nums[m] &gt; nums[m+<span class="number">1</span>] ) ? m </span><br><span class="line">            : ( nums[m<span class="number">-1</span>] &gt; nums[m<span class="number">-2</span>] &amp;&amp; nums[m<span class="number">-1</span>] &gt; nums[m] ? m<span class="number">-1</span> : <span class="number">-1</span> )  ; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>( len == <span class="number">3</span> )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//基线条件 len == 3</span></span><br><span class="line">            <span class="keyword">return</span> ( nums[m] &gt; nums[m<span class="number">-1</span>] &amp;&amp; nums[m] &gt; nums[m+<span class="number">1</span>] ) ? m : <span class="number">-1</span>  ;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//基线条件 len &lt; 3</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span> ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2020/02/15/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
  </entry>
</search>
